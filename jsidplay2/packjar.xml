<?xml version="1.0" encoding="UTF-8"?>
<project name="build online content" default="all" xmlns:fx="javafx:com.sun.javafx.tools.ant">
	<description>
		Pack JSIDDevice
    </description>

	<target name="all" depends="jsiddevice" />

	<!-- ================================= 
          target: jsiddevice
          Description:
          Shrink JAR filesize.
         ================================= -->
	<target name="jsiddevice">
		<exec executable="${java.home}/bin/pack200" failonerror="true">
			<arg value="--strip-debug" />
			<arg value="${deploy_dir}/${jsiddevice}.pack.gz" />
			<arg value="${deploy_dir}/${jsiddevice}-proguard.jar" />
		</exec>
		<exec executable="${java.home}/bin/unpack200" failonerror="true">
			<arg value="${deploy_dir}/${jsiddevice}.pack.gz" />
			<arg value="${deploy_dir}/${jsiddevice}.jar" />
		</exec>
		<delete file="${deploy_dir}/${jsiddevice}-proguard.jar" />
		<delete file="${deploy_dir}/${jsiddevice}.pack.gz" />
	</target>

</project>
