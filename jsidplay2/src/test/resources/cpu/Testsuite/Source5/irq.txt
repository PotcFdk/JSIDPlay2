
                          *= $0801
0801 4C 14 08 00 97
                          .BYTE $4C,$14,$08,$00,$97
               TURBOASS   = 780
0806 37 38 30             .TEXT "780"
0809 2C 30 3A 9E 32 30
                          .BYTE $2C,$30,$3A,$9E,$32,$30
080F 37 33 00 00 00
                          .BYTE $37,$33,$00,$00,$00
0814 A9 01                LDA #1
0816 8D 0C 03             STA TURBOASS
0819 4C 4F 0C             JMP MAIN


               PRINT
                          .BLOCK
081C 68                   PLA
081D 8D 27 08             STA PRINT0+1
0820 68                   PLA
0821 8D 28 08             STA PRINT0+2
0824 A2 01                LDX #1
               PRINT0
0826 BD 26 08             LDA !*,X
0829 F0 06                BEQ PRINT1
082B 20 D2 FF             JSR $FFD2
082E E8                   INX
082F D0 F5                BNE PRINT0
               PRINT1
0831 38                   SEC
0832 8A                   TXA
0833 6D 27 08             ADC PRINT0+1
0836 8D 42 08             STA PRINT2+1
0839 A9 00                LDA #0
083B 6D 28 08             ADC PRINT0+2
083E 8D 43 08             STA PRINT2+2
               PRINT2
0841 4C 41 08             JMP !*
                          .BEND


               PRINTHB
                          .BLOCK
0844 48                   PHA
0845 4A                   LSR A
0846 4A                   LSR A
0847 4A                   LSR A
0848 4A                   LSR A
0849 20 4F 08             JSR PRINTHN
084C 68                   PLA
084D 29 0F                AND #$0F
               PRINTHN
084F 09 30                ORA #$30
0851 C9 3A                CMP #$3A
0853 90 02                BCC PRINTHN0
0855 69 06                ADC #6
               PRINTHN0
0857 20 D2 FF             JSR $FFD2
085A 60                   RTS
                          .BEND

085B 00        STARTTIMER BRK
085C 00        STOPTIMER  BRK

085D 00        INTLOW     .BYTE 0
085E 00        INTHIGH    .BYTE 0
085F 00        FLAGSBEFORE .BYTE 0
0860 00        FLAGSAFTER .BYTE 0

               SETINT
                          .BLOCK
0861 48                   PHA
0862 A9 00                LDA #0
0864 8D 0E DC             STA $DC0E
0867 18                   CLC
0868 68                   PLA
0869 69 03                ADC #3
086B 8D 04 DC             STA $DC04
086E A9 00                LDA #0
0870 8D 05 DC             STA $DC05
0873 A9 93                LDA #<IRQ
0875 8D FE FF             STA $FFFE
0878 A9 08                LDA #>IRQ
087A 8D FF FF             STA $FFFF
087D A9 35                LDA #$35
087F 85 01                STA 1
0881 AD 11 D0             LDA $D011
0884 30 07                BMI OK
               WAIT
0886 AD 12 D0             LDA $D012
0889 C9 1E                CMP #30
088B B0 F9                BCS WAIT
               OK
088D A9 19                LDA #$19
088F 8D 0E DC             STA $DC0E
0892 60                   RTS
                          .BEND
               IRQ
                          .BLOCK
0893 08                   PHP
0894 2C 0D DC             BIT $DC0D
0897 8D C4 08             STA SAVEDA+1
089A 8E C2 08             STX SAVEDX+1
089D 68                   PLA
089E 8D 60 08             STA FLAGSAFTER
08A1 A9 C6                LDA #<IRQ2
08A3 8D FE FF             STA $FFFE
08A6 A9 08                LDA #>IRQ2
08A8 8D FF FF             STA $FFFF
08AB BA                   TSX
08AC E8                   INX
08AD BD 00 01             LDA $0100,X
08B0 8D 5F 08             STA FLAGSBEFORE
08B3 E8                   INX
08B4 BD 00 01             LDA $0100,X
08B7 8D 5D 08             STA INTLOW
08BA E8                   INX
08BB BD 00 01             LDA $0100,X
08BE 8D 5E 08             STA INTHIGH
               SAVEDX
08C1 A2 11                LDX #$11
               SAVEDA
08C3 A9 11                LDA #$11
08C5 40                   RTI
                          .BEND

               IRQ2
                          .BLOCK
08C6 08                   PHP
08C7 2C 0D DC             BIT $DC0D
08CA 8D ED 08             STA SAVEDA+1
08CD 8E EB 08             STX SAVEDX+1
08D0 68                   PLA
08D1 8D F0 08             STA FLAGSAFTER2
08D4 BA                   TSX
08D5 E8                   INX
08D6 BD 00 01             LDA $0100,X
08D9 8D EF 08             STA FLAGSBEFORE2
08DC E8                   INX
08DD BD 00 01             LDA $0100,X
08E0 8D F1 08             STA INTLOW2
08E3 E8                   INX
08E4 BD 00 01             LDA $0100,X
08E7 8D F2 08             STA INTHIGH2
               SAVEDX
08EA A2 11                LDX #$11
               SAVEDA
08EC A9 11                LDA #$11
08EE 40                   RTI
                          .BEND

08EF 00        FLAGSBEFORE2 .BYTE 0
08F0 00        FLAGSAFTER2 .BYTE 0
08F1 00        INTLOW2    .BYTE 0
08F2 00        INTHIGH2   .BYTE 0


               RESTOREINT
08F3 A9 37                LDA #$37
08F5 85 01                STA 1
08F7 A9 23                LDA #<16419
08F9 8D 04 DC             STA $DC04
08FC A9 40                LDA #>16419
08FE 8D 05 DC             STA $DC05
0901 A9 11                LDA #$11
0903 8D 0E DC             STA $DC0E
0906 60                   RTS


0907 00        GSAVESP    .BYTE 0
               GASTACK    *= *+256

               SAVESTACK
                          .BLOCK
0A08 BA                   TSX
0A09 8E 07 09             STX GSAVESP
0A0C A2 00                LDX #0
               SAVE
0A0E BD 00 01             LDA $0100,X
0A11 9D 08 09             STA GASTACK,X
0A14 E8                   INX
0A15 D0 F7                BNE SAVE
0A17 60                   RTS
                          .BEND

               RESTORESTACK
                          .BLOCK
0A18 68                   PLA
0A19 8D 35 0A             STA RETURN2+1
0A1C 68                   PLA
0A1D 8D 32 0A             STA RETURN1+1
0A20 AE 07 09             LDX GSAVESP
0A23 E8                   INX
0A24 E8                   INX
0A25 9A                   TXS
0A26 A2 00                LDX #0
               RESTORE
0A28 BD 08 09             LDA GASTACK,X
0A2B 9D 00 01             STA $0100,X
0A2E E8                   INX
0A2F D0 F7                BNE RESTORE
               RETURN1
0A31 A9 11                LDA #$11
0A33 48                   PHA
               RETURN2
0A34 A9 11                LDA #$11
0A36 48                   PHA
0A37 60                   RTS
                          .BEND

               ADDRESSING
0A38 9E 13                .WORD BRKN
0A3A 64 10                .WORD RIX
0A3C 0B 15                .WORD HLTN
0A3E A4 10                .WORD MIX
0A40 60 0E                .WORD RZ
0A42 60 0E                .WORD RZ
0A44 8D 0E                .WORD MZ
0A46 8D 0E                .WORD MZ
0A48 C5 13                .WORD PHPN
0A4A 34 0E                .WORD B
0A4C CB 0D                .WORD N
0A4E 34 0E                .WORD B
0A50 22 0F                .WORD RA
0A52 22 0F                .WORD RA
0A54 51 0F                .WORD MA
0A56 51 0F                .WORD MA
0A58 D5 11                .WORD R
0A5A E6 10                .WORD RIY
0A5C 0B 15                .WORD HLTN
0A5E 93 11                .WORD MIY
0A60 BC 0E                .WORD RZX
0A62 BC 0E                .WORD RZX
0A64 EE 0E                .WORD MZX
0A66 EE 0E                .WORD MZX
0A68 CB 0D                .WORD N
0A6A 82 0F                .WORD RAY
0A6C CB 0D                .WORD N
0A6E 28 10                .WORD MAY
0A70 82 0F                .WORD RAX
0A72 82 0F                .WORD RAX
0A74 28 10                .WORD MAX
0A76 28 10                .WORD MAX
0A78 7F 14                .WORD JSRW
0A7A 64 10                .WORD RIX
0A7C 0B 15                .WORD HLTN
0A7E A4 10                .WORD MIX
0A80 60 0E                .WORD RZ
0A82 60 0E                .WORD RZ
0A84 8D 0E                .WORD MZ
0A86 8D 0E                .WORD MZ
0A88 F1 13                .WORD PLPN
0A8A 34 0E                .WORD B
0A8C CB 0D                .WORD N
0A8E 34 0E                .WORD B
0A90 22 0F                .WORD RA
0A92 22 0F                .WORD RA
0A94 51 0F                .WORD MA
0A96 51 0F                .WORD MA
0A98 D5 11                .WORD R
0A9A E6 10                .WORD RIY
0A9C 0B 15                .WORD HLTN
0A9E 93 11                .WORD MIY
0AA0 BC 0E                .WORD RZX
0AA2 BC 0E                .WORD RZX
0AA4 EE 0E                .WORD MZX
0AA6 EE 0E                .WORD MZX
0AA8 CB 0D                .WORD N
0AAA 82 0F                .WORD RAY
0AAC CB 0D                .WORD N
0AAE 28 10                .WORD MAY
0AB0 82 0F                .WORD RAX
0AB2 82 0F                .WORD RAX
0AB4 28 10                .WORD MAX
0AB6 28 10                .WORD MAX
0AB8 DB 14                .WORD RTIN
0ABA 64 10                .WORD RIX
0ABC 0B 15                .WORD HLTN
0ABE A4 10                .WORD MIX
0AC0 60 0E                .WORD RZ
0AC2 60 0E                .WORD RZ
0AC4 8D 0E                .WORD MZ
0AC6 8D 0E                .WORD MZ
0AC8 C5 13                .WORD PHAN
0ACA 34 0E                .WORD B
0ACC CB 0D                .WORD N
0ACE 34 0E                .WORD B
0AD0 21 14                .WORD JMPW
0AD2 22 0F                .WORD RA
0AD4 51 0F                .WORD MA
0AD6 51 0F                .WORD MA
0AD8 D5 11                .WORD R
0ADA E6 10                .WORD RIY
0ADC 0B 15                .WORD HLTN
0ADE 93 11                .WORD MIY
0AE0 BC 0E                .WORD RZX
0AE2 BC 0E                .WORD RZX
0AE4 EE 0E                .WORD MZX
0AE6 EE 0E                .WORD MZX
0AE8 CB 0D                .WORD N
0AEA 82 0F                .WORD RAY
0AEC CB 0D                .WORD N
0AEE 28 10                .WORD MAY
0AF0 82 0F                .WORD RAX
0AF2 82 0F                .WORD RAX
0AF4 28 10                .WORD MAX
0AF6 28 10                .WORD MAX
0AF8 AC 14                .WORD RTSN
0AFA 64 10                .WORD RIX
0AFC 0B 15                .WORD HLTN
0AFE A4 10                .WORD MIX
0B00 60 0E                .WORD RZ
0B02 60 0E                .WORD RZ
0B04 8D 0E                .WORD MZ
0B06 8D 0E                .WORD MZ
0B08 F1 13                .WORD PLAN
0B0A 34 0E                .WORD B
0B0C CB 0D                .WORD N
0B0E 34 0E                .WORD B
0B10 4A 14                .WORD JMPI
0B12 22 0F                .WORD RA
0B14 51 0F                .WORD MA
0B16 51 0F                .WORD MA
0B18 D5 11                .WORD R
0B1A E6 10                .WORD RIY
0B1C 0B 15                .WORD HLTN
0B1E 93 11                .WORD MIY
0B20 BC 0E                .WORD RZX
0B22 BC 0E                .WORD RZX
0B24 EE 0E                .WORD MZX
0B26 EE 0E                .WORD MZX
0B28 FD 0D                .WORD SEIN
0B2A 82 0F                .WORD RAY
0B2C CB 0D                .WORD N
0B2E 28 10                .WORD MAY
0B30 82 0F                .WORD RAX
0B32 82 0F                .WORD RAX
0B34 28 10                .WORD MAX
0B36 28 10                .WORD MAX
0B38 34 0E                .WORD B
0B3A 64 10                .WORD WIX
0B3C 34 0E                .WORD B
0B3E 64 10                .WORD RIX
0B40 60 0E                .WORD WZ
0B42 60 0E                .WORD WZ
0B44 60 0E                .WORD WZ
0B46 60 0E                .WORD RZ
0B48 CB 0D                .WORD N
0B4A 34 0E                .WORD B
0B4C CB 0D                .WORD N
0B4E 34 0E                .WORD B
0B50 22 0F                .WORD WA
0B52 22 0F                .WORD WA
0B54 22 0F                .WORD WA
0B56 22 0F                .WORD RA
0B58 D5 11                .WORD R
0B5A 53 11                .WORD WIY
0B5C 0B 15                .WORD HLTN
0B5E 53 11                .WORD WIY
0B60 BC 0E                .WORD WZX
0B62 BC 0E                .WORD WZX
0B64 BC 0E                .WORD WZY
0B66 BC 0E                .WORD RZY
0B68 CB 0D                .WORD N
0B6A EE 0F                .WORD WAY
0B6C CB 0D                .WORD N
0B6E EE 0F                .WORD WAY
0B70 EE 0F                .WORD WAX
0B72 EE 0F                .WORD WAX
0B74 EE 0F                .WORD WAY
0B76 EE 0F                .WORD WAY
0B78 34 0E                .WORD B
0B7A 64 10                .WORD RIX
0B7C 34 0E                .WORD B
0B7E 64 10                .WORD RIX
0B80 60 0E                .WORD RZ
0B82 60 0E                .WORD RZ
0B84 60 0E                .WORD RZ
0B86 60 0E                .WORD RZ
0B88 CB 0D                .WORD N
0B8A 34 0E                .WORD B
0B8C CB 0D                .WORD N
0B8E 34 0E                .WORD B
0B90 22 0F                .WORD RA
0B92 22 0F                .WORD RA
0B94 22 0F                .WORD RA
0B96 22 0F                .WORD RA
0B98 D5 11                .WORD R
0B9A E6 10                .WORD RIY
0B9C 0B 15                .WORD HLTN
0B9E E6 10                .WORD RIY
0BA0 BC 0E                .WORD RZX
0BA2 BC 0E                .WORD RZX
0BA4 BC 0E                .WORD RZY
0BA6 BC 0E                .WORD RZY
0BA8 CB 0D                .WORD N
0BAA 82 0F                .WORD RAY
0BAC CB 0D                .WORD N
0BAE 82 0F                .WORD RAY
0BB0 82 0F                .WORD RAX
0BB2 82 0F                .WORD RAX
0BB4 82 0F                .WORD RAY
0BB6 82 0F                .WORD RAY
0BB8 34 0E                .WORD B
0BBA 64 10                .WORD RIX
0BBC 34 0E                .WORD B
0BBE A4 10                .WORD MIX
0BC0 60 0E                .WORD RZ
0BC2 60 0E                .WORD RZ
0BC4 8D 0E                .WORD MZ
0BC6 8D 0E                .WORD MZ
0BC8 CB 0D                .WORD N
0BCA 34 0E                .WORD B
0BCC CB 0D                .WORD N
0BCE 34 0E                .WORD B
0BD0 22 0F                .WORD RA
0BD2 22 0F                .WORD RA
0BD4 51 0F                .WORD MA
0BD6 51 0F                .WORD MA
0BD8 D5 11                .WORD R
0BDA E6 10                .WORD RIY
0BDC 0B 15                .WORD HLTN
0BDE 93 11                .WORD MIY
0BE0 BC 0E                .WORD RZX
0BE2 BC 0E                .WORD RZX
0BE4 EE 0E                .WORD MZX
0BE6 EE 0E                .WORD MZX
0BE8 CB 0D                .WORD N
0BEA 82 0F                .WORD RAY
0BEC CB 0D                .WORD N
0BEE 28 10                .WORD MAY
0BF0 82 0F                .WORD RAX
0BF2 82 0F                .WORD RAX
0BF4 28 10                .WORD MAX
0BF6 28 10                .WORD MAX
0BF8 34 0E                .WORD B
0BFA 64 10                .WORD RIX
0BFC 34 0E                .WORD B
0BFE A4 10                .WORD MIX
0C00 60 0E                .WORD RZ
0C02 60 0E                .WORD RZ
0C04 8D 0E                .WORD MZ
0C06 8D 0E                .WORD MZ
0C08 CB 0D                .WORD N
0C0A 34 0E                .WORD B
0C0C CB 0D                .WORD N
0C0E 34 0E                .WORD B
0C10 22 0F                .WORD RA
0C12 22 0F                .WORD RA
0C14 51 0F                .WORD MA
0C16 51 0F                .WORD MA
0C18 D5 11                .WORD R
0C1A E6 10                .WORD RIY
0C1C 0B 15                .WORD HLTN
0C1E 93 11                .WORD MIY
0C20 BC 0E                .WORD RZX
0C22 BC 0E                .WORD RZX
0C24 EE 0E                .WORD MZX
0C26 EE 0E                .WORD MZX
0C28 CB 0D                .WORD N
0C2A 82 0F                .WORD RAY
0C2C CB 0D                .WORD N
0C2E 28 10                .WORD MAY
0C30 82 0F                .WORD RAX
0C32 82 0F                .WORD RAX
0C34 28 10                .WORD MAX
0C36 28 10                .WORD MAX

0C38 00        CMD        .BYTE 0

               WRONG
0C39 20 F3 08             JSR RESTOREINT
0C3C 20 1C 08             JSR PRINT
0C3F 0D                   .BYTE 13
0C40 57 52 4F 4E 47 20 24 44 43 30 44
                          .TEXT "WRONG $DC0D"
0C4B 00                   .BYTE 0
0C4C 4C 7B 0D             JMP WAITK

               MAIN
0C4F 20 1C 08             JSR PRINT
0C52 0D                   .BYTE 13
0C53 91 49 52 51
                          .TEXT "‘IRQ"
0C57 00                   .BYTE 0

0C58 BA                   TSX
0C59 8E 03 0D             STX ERROR+1
0C5C A9 00                LDA #0
0C5E 8D 38 0C             STA CMD

0C61 A9 05                LDA #5
0C63 20 61 08             JSR SETINT
0C66 AD 0D DC             LDA $DC0D
0C69 C9 00                CMP #$00
0C6B D0 CC                BNE WRONG
0C6D A9 04                LDA #4
0C6F 20 61 08             JSR SETINT
0C72 AD 0D DC             LDA $DC0D
0C75 C9 01                CMP #$01
0C77 D0 C0                BNE WRONG
0C79 A9 03                LDA #3
0C7B 20 61 08             JSR SETINT
0C7E AD 0D DC             LDA $DC0D
0C81 C9 81                CMP #$81
0C83 D0 B4                BNE WRONG
0C85 20 F3 08             JSR RESTOREINT

               LOOP
                          .BLOCK
0C88 AD 38 0C             LDA CMD
0C8B C9 FF                CMP #$FF
0C8D 4C A7 0C             JMP OK
0C90 A9 0D                LDA #13
0C92 20 D2 FF             JSR $FFD2
0C95 AD 38 0C             LDA CMD
0C98 20 44 08             JSR PRINTHB
               WAITKEY
0C9B 20 E4 FF             JSR $FFE4
0C9E F0 FB                BEQ WAITKEY
0CA0 C9 03                CMP #3
0CA2 D0 03                BNE OK
0CA4 4C 00 80             JMP $8000
               OK
                          .BEND

0CA7 A9 38                LDA #<ADDRESSING
0CA9 A2 0A                LDX #>ADDRESSING
0CAB 18                   CLC
0CAC 6D 38 0C             ADC CMD
0CAF 90 01                BCC NOINC1
0CB1 E8                   INX
               NOINC1
0CB2 18                   CLC
0CB3 6D 38 0C             ADC CMD
0CB6 90 01                BCC NOINC2
0CB8 E8                   INX
               NOINC2
0CB9 85 AC                STA 172
0CBB 86 AD                STX 173
0CBD A0 00                LDY #0
0CBF B1 AC                LDA (172),Y
0CC1 8D CB 0C             STA JUMP+1
0CC4 C8                   INY
0CC5 B1 AC                LDA (172),Y
0CC7 8D CC 0C             STA JUMP+2
               JUMP
0CCA 20 11 11             JSR $1111
               NOERROR
0CCD EE 38 0C             INC CMD
0CD0 D0 B6                BNE LOOP

0CD2 4C 92 0D             JMP OK

0CD5 00        CLOCK      .BYTE 0
0CD6 00        RIGHTLOW   .BYTE 0
0CD7 00        RIGHTHIGH  .BYTE 0

               COMPARE
0CD8 8E DD 0C             STX ADDLOW+1
0CDB 18                   CLC
               ADDLOW
0CDC 69 11                ADC #$11
0CDE 8D D6 0C             STA RIGHTLOW
0CE1 90 01                BCC NOINY
0CE3 C8                   INY
               NOINY
0CE4 8C D7 0C             STY RIGHTHIGH
0CE7 CD 5D 08             CMP INTLOW
0CEA D0 16                BNE ERROR
0CEC CC 5E 08             CPY INTHIGH
0CEF D0 11                BNE ERROR
0CF1 AD 5F 08             LDA FLAGSBEFORE
0CF4 29 14                AND #$14
0CF6 D0 0A                BNE ERROR
0CF8 AD 60 08             LDA FLAGSAFTER
0CFB 29 14                AND #$14
0CFD C9 14                CMP #$14
0CFF D0 01                BNE ERROR
0D01 60                   RTS

               ERROR
0D02 A2 11                LDX #$11
0D04 9A                   TXS
0D05 A9 0D                LDA #13
0D07 20 D2 FF             JSR $FFD2
0D0A AD 38 0C             LDA CMD
0D0D 20 44 08             JSR PRINTHB
0D10 A9 2F                LDA #"/"
0D12 20 D2 FF             JSR $FFD2
0D15 AE D5 0C             LDX CLOCK
0D18 A9 00                LDA #0
0D1A 20 CD BD             JSR $BDCD
0D1D 20 1C 08             JSR PRINT
0D20 0D                   .BYTE 13
0D21 53 54 41 43 4B 20 20
                          .TEXT "STACK  "
0D28 00                   .BYTE 0
0D29 AD 5E 08             LDA INTHIGH
0D2C 20 44 08             JSR PRINTHB
0D2F AD 5D 08             LDA INTLOW
0D32 20 44 08             JSR PRINTHB
0D35 A9 20                LDA #32
0D37 20 D2 FF             JSR $FFD2
0D3A AD 5F 08             LDA FLAGSBEFORE
0D3D 29 14                AND #$14
0D3F 20 44 08             JSR PRINTHB
0D42 A9 20                LDA #32
0D44 20 D2 FF             JSR $FFD2
0D47 AD 60 08             LDA FLAGSAFTER
0D4A 29 14                AND #$14
0D4C 20 44 08             JSR PRINTHB
0D4F 20 1C 08             JSR PRINT
0D52 0D                   .BYTE 13
0D53 52 49 47 48 54 20 20
                          .TEXT "RIGHT  "
0D5A 00                   .BYTE 0
0D5B AD D7 0C             LDA RIGHTHIGH
0D5E 20 44 08             JSR PRINTHB
0D61 AD D6 0C             LDA RIGHTLOW
0D64 20 44 08             JSR PRINTHB
0D67 A9 20                LDA #32
0D69 20 D2 FF             JSR $FFD2
0D6C A9 00                LDA #$00
0D6E 20 44 08             JSR PRINTHB
0D71 A9 20                LDA #32
0D73 20 D2 FF             JSR $FFD2
0D76 A9 14                LDA #$14
0D78 20 44 08             JSR PRINTHB
               WAITK
0D7B 20 E4 FF             JSR $FFE4
0D7E F0 FB                BEQ WAITK
0D80 C9 03                CMP #3
0D82 F0 03                BEQ STOP
0D84 4C CD 0C             JMP NOERROR
               STOP
0D87 AD 0C 03             LDA TURBOASS
0D8A F0 03                BEQ BASIC
0D8C 4C 00 80             JMP $8000
               BASIC
0D8F 4C 74 A4             JMP $A474


               OK
0D92 20 1C 08             JSR PRINT
0D95 20 2D 20 4F 4B
                          .TEXT " - OK"
0D9A 0D 00                .BYTE 13,0
0D9C AD 0C 03             LDA TURBOASS
0D9F F0 08                BEQ LOAD
0DA1 20 E4 FF  WAITKEY    JSR $FFE4
0DA4 F0 FB                BEQ WAITKEY
0DA6 4C 00 80             JMP $8000

               LOAD
0DA9 A9 2F                LDA #47
0DAB 85 00                STA 0
0DAD 20 1C 08             JSR PRINT
0DB0 4E 4D 49  NAME       .TEXT "NMI"
               NAMELEN    = *-NAME
0DB3 00                   .BYTE 0
0DB4 A9 00                LDA #0
0DB6 85 0A                STA $0A
0DB8 85 B9                STA $B9
0DBA A9 03                LDA #NAMELEN
0DBC 85 B7                STA $B7
0DBE A9 B0                LDA #<NAME
0DC0 85 BB                STA $BB
0DC2 A9 0D                LDA #>NAME
0DC4 85 BC                STA $BC
0DC6 68                   PLA
0DC7 68                   PLA
0DC8 4C 6F E1             JMP $E16F


               N
                          .BLOCK
0DCB 20 08 0A             JSR SAVESTACK
0DCE AD 38 0C             LDA CMD
0DD1 8D DF 0D             STA COMMAND
0DD4 A9 01                LDA #1
0DD6 8D D5 0C             STA CLOCK
               LOOP
0DD9 AD D5 0C             LDA CLOCK
0DDC 20 61 08             JSR SETINT
               COMMAND
0DDF EA                   NOP
0DE0 58                   CLI
0DE1 D8                   CLD
0DE2 20 F3 08             JSR RESTOREINT
0DE5 AE D5 0C             LDX CLOCK
0DE8 BD FB 0D             LDA RIGHT,X
0DEB A2 DF                LDX #<COMMAND
0DED A0 0D                LDY #>COMMAND
0DEF 20 D8 0C             JSR COMPARE
0DF2 CE D5 0C             DEC CLOCK
0DF5 10 E2                BPL LOOP
0DF7 20 18 0A             JSR RESTORESTACK
0DFA 60                   RTS
0DFB 01 02     RIGHT      .BYTE 1,2
                          .BEND


               SEIN
                          .BLOCK
0DFD A9 00                LDA #0
0DFF 8D D5 0C             STA CLOCK
0E02 20 61 08             JSR SETINT
0E05 78                   SEI
               IRQ
0E06 58                   CLI
0E07 D8                   CLD
0E08 20 F3 08             JSR RESTOREINT
0E0B AD 5F 08             LDA FLAGSBEFORE
0E0E 49 04                EOR #$04
0E10 8D 5F 08             STA FLAGSBEFORE
0E13 A9 00                LDA #0
0E15 A2 06                LDX #<IRQ
0E17 A0 0E                LDY #>IRQ
0E19 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
0E1C A9 01                LDA #1
0E1E 8D D5 0C             STA CLOCK
0E21 20 61 08             JSR SETINT
0E24 78                   SEI
0E25 58                   CLI
0E26 D8                   CLD
               IRQ
0E27 20 F3 08             JSR RESTOREINT
0E2A A9 00                LDA #0
0E2C A2 27                LDX #<IRQ
0E2E A0 0E                LDY #>IRQ
0E30 20 D8 0C             JSR COMPARE
                          .BEND

0E33 60                   RTS

               B
                          .BLOCK
0E34 AD 38 0C             LDA CMD
0E37 8D 45 0E             STA COMMAND
0E3A A9 01                LDA #1
0E3C 8D D5 0C             STA CLOCK
               LOOP
0E3F AD D5 0C             LDA CLOCK
0E42 20 61 08             JSR SETINT
               COMMAND
0E45 A9 00                LDA #0
0E47 EA                   NOP
0E48 20 F3 08             JSR RESTOREINT
0E4B AE D5 0C             LDX CLOCK
0E4E BD 5E 0E             LDA RIGHT,X
0E51 A2 45                LDX #<COMMAND
0E53 A0 0E                LDY #>COMMAND
0E55 20 D8 0C             JSR COMPARE
0E58 CE D5 0C             DEC CLOCK
0E5B 10 E2                BPL LOOP
0E5D 60                   RTS
0E5E 02 03     RIGHT      .BYTE 2,3
                          .BEND


               RZ
               WZ
                          .BLOCK
0E60 AD 38 0C             LDA CMD
0E63 8D 71 0E             STA COMMAND
0E66 A9 02                LDA #2
0E68 8D D5 0C             STA CLOCK
               LOOP
0E6B AD D5 0C             LDA CLOCK
0E6E 20 61 08             JSR SETINT
               COMMAND
0E71 A5 02                LDA 2
0E73 EA                   NOP
0E74 20 F3 08             JSR RESTOREINT
0E77 AE D5 0C             LDX CLOCK
0E7A BD 8A 0E             LDA RIGHT,X
0E7D A2 71                LDX #<COMMAND
0E7F A0 0E                LDY #>COMMAND
0E81 20 D8 0C             JSR COMPARE
0E84 CE D5 0C             DEC CLOCK
0E87 10 E2                BPL LOOP
0E89 60                   RTS
0E8A 02 02 03  RIGHT      .BYTE 2,2,3
                          .BEND


               MZ
                          .BLOCK
0E8D AD 38 0C             LDA CMD
0E90 8D 9E 0E             STA COMMAND
0E93 A9 04                LDA #4
0E95 8D D5 0C             STA CLOCK
               LOOP
0E98 AD D5 0C             LDA CLOCK
0E9B 20 61 08             JSR SETINT
               COMMAND
0E9E A5 02                LDA 2
0EA0 EA                   NOP
0EA1 20 F3 08             JSR RESTOREINT
0EA4 AE D5 0C             LDX CLOCK
0EA7 BD B7 0E             LDA RIGHT,X
0EAA A2 9E                LDX #<COMMAND
0EAC A0 0E                LDY #>COMMAND
0EAE 20 D8 0C             JSR COMPARE
0EB1 CE D5 0C             DEC CLOCK
0EB4 10 E2                BPL LOOP
0EB6 60                   RTS
0EB7 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,3
                          .BEND


               RZX
               RZY
               WZX
               WZY
                          .BLOCK
0EBC AD 38 0C             LDA CMD
0EBF 8D D1 0E             STA COMMAND
0EC2 A9 03                LDA #3
0EC4 8D D5 0C             STA CLOCK
               LOOP
0EC7 A2 00                LDX #0
0EC9 A0 00                LDY #0
0ECB AD D5 0C             LDA CLOCK
0ECE 20 61 08             JSR SETINT
               COMMAND
0ED1 B5 02                LDA 2,X
0ED3 EA                   NOP
0ED4 20 F3 08             JSR RESTOREINT
0ED7 AE D5 0C             LDX CLOCK
0EDA BD EA 0E             LDA RIGHT,X
0EDD A2 D1                LDX #<COMMAND
0EDF A0 0E                LDY #>COMMAND
0EE1 20 D8 0C             JSR COMPARE
0EE4 CE D5 0C             DEC CLOCK
0EE7 10 DE                BPL LOOP
0EE9 60                   RTS
0EEA 02 02 02 03
               RIGHT      .BYTE 2,2,2,3
                          .BEND



               MZX
               MZY
                          .BLOCK
0EEE AD 38 0C             LDA CMD
0EF1 8D 03 0F             STA COMMAND
0EF4 A9 05                LDA #5
0EF6 8D D5 0C             STA CLOCK
               LOOP
0EF9 A2 00                LDX #0
0EFB A0 00                LDY #0
0EFD AD D5 0C             LDA CLOCK
0F00 20 61 08             JSR SETINT
               COMMAND
0F03 B5 02                LDA 2,X
0F05 EA                   NOP
0F06 20 F3 08             JSR RESTOREINT
0F09 AE D5 0C             LDX CLOCK
0F0C BD 1C 0F             LDA RIGHT,X
0F0F A2 03                LDX #<COMMAND
0F11 A0 0F                LDY #>COMMAND
0F13 20 D8 0C             JSR COMPARE
0F16 CE D5 0C             DEC CLOCK
0F19 10 DE                BPL LOOP
0F1B 60                   RTS
0F1C 02 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,2,3
                          .BEND


               RA
               WA
                          .BLOCK
0F22 AD 38 0C             LDA CMD
0F25 8D 33 0F             STA COMMAND
0F28 A9 03                LDA #3
0F2A 8D D5 0C             STA CLOCK
               LOOP
0F2D AD D5 0C             LDA CLOCK
0F30 20 61 08             JSR SETINT
               COMMAND
0F33 AD F0 FF             LDA $FFF0
0F36 EA                   NOP
0F37 20 F3 08             JSR RESTOREINT
0F3A AE D5 0C             LDX CLOCK
0F3D BD 4D 0F             LDA RIGHT,X
0F40 A2 33                LDX #<COMMAND
0F42 A0 0F                LDY #>COMMAND
0F44 20 D8 0C             JSR COMPARE
0F47 CE D5 0C             DEC CLOCK
0F4A 10 E1                BPL LOOP
0F4C 60                   RTS
0F4D 03 03 03 04
               RIGHT      .BYTE 3,3,3,4
                          .BEND


               MA
                          .BLOCK
0F51 AD 38 0C             LDA CMD
0F54 8D 62 0F             STA COMMAND
0F57 A9 05                LDA #5
0F59 8D D5 0C             STA CLOCK
               LOOP
0F5C AD D5 0C             LDA CLOCK
0F5F 20 61 08             JSR SETINT
               COMMAND
0F62 AD F0 FF             LDA $FFF0
0F65 EA                   NOP
0F66 20 F3 08             JSR RESTOREINT
0F69 AE D5 0C             LDX CLOCK
0F6C BD 7C 0F             LDA RIGHT,X
0F6F A2 62                LDX #<COMMAND
0F71 A0 0F                LDY #>COMMAND
0F73 20 D8 0C             JSR COMPARE
0F76 CE D5 0C             DEC CLOCK
0F79 10 E1                BPL LOOP
0F7B 60                   RTS
0F7C 03 03 03 03 03 04
               RIGHT      .BYTE 3,3,3,3,3,4
                          .BEND


               RAX
               RAY
                          .BLOCK
0F82 20 08 0A             JSR SAVESTACK
0F85 AD 38 0C             LDA CMD
0F88 8D 9A 0F             STA COMMAND
0F8B A9 03                LDA #3
0F8D 8D D5 0C             STA CLOCK
               LOOP
0F90 A2 00                LDX #0
0F92 A0 00                LDY #0
0F94 AD D5 0C             LDA CLOCK
0F97 20 61 08             JSR SETINT
               COMMAND
0F9A BD F0 FF             LDA $FFF0,X
0F9D EA                   NOP
0F9E 20 F3 08             JSR RESTOREINT
0FA1 AE D5 0C             LDX CLOCK
0FA4 BD E5 0F             LDA RIGHT1,X
0FA7 A2 9A                LDX #<COMMAND
0FA9 A0 0F                LDY #>COMMAND
0FAB 20 D8 0C             JSR COMPARE
0FAE CE D5 0C             DEC CLOCK
0FB1 10 DD                BPL LOOP
0FB3 AD 38 0C             LDA CMD
0FB6 8D C8 0F             STA COMMAND2
0FB9 A9 04                LDA #4
0FBB 8D D5 0C             STA CLOCK
               LOOP2
0FBE A2 12                LDX #$12
0FC0 A0 12                LDY #$12
0FC2 AD D5 0C             LDA CLOCK
0FC5 20 61 08             JSR SETINT
               COMMAND2
0FC8 BD F0 FF             LDA $FFF0,X
0FCB EA                   NOP
0FCC 20 F3 08             JSR RESTOREINT
0FCF AE D5 0C             LDX CLOCK
0FD2 BD E9 0F             LDA RIGHT2,X
0FD5 A2 C8                LDX #<COMMAND2
0FD7 A0 0F                LDY #>COMMAND2
0FD9 20 D8 0C             JSR COMPARE
0FDC CE D5 0C             DEC CLOCK
0FDF 10 DD                BPL LOOP2
0FE1 20 18 0A             JSR RESTORESTACK
0FE4 60                   RTS
0FE5 03 03 03 04
               RIGHT1     .BYTE 3,3,3,4
0FE9 03 03 03 03 04
               RIGHT2     .BYTE 3,3,3,3,4
                          .BEND


               WAX
               WAY
                          .BLOCK
0FEE 20 08 0A             JSR SAVESTACK
0FF1 AD 38 0C             LDA CMD
0FF4 8D 06 10             STA COMMAND
0FF7 A9 04                LDA #4
0FF9 8D D5 0C             STA CLOCK
               LOOP
0FFC A2 00                LDX #0
0FFE A0 00                LDY #0
1000 AD D5 0C             LDA CLOCK
1003 20 61 08             JSR SETINT
               COMMAND
1006 9D F0 FF             STA $FFF0,X
1009 EA                   NOP
100A 20 F3 08             JSR RESTOREINT
100D AE D5 0C             LDX CLOCK
1010 BD 23 10             LDA RIGHT,X
1013 A2 06                LDX #<COMMAND
1015 A0 10                LDY #>COMMAND
1017 20 D8 0C             JSR COMPARE
101A CE D5 0C             DEC CLOCK
101D 10 DD                BPL LOOP
101F 20 18 0A             JSR RESTORESTACK
1022 60                   RTS
1023 03 03 03 03 04
               RIGHT      .BYTE 3,3,3,3,4
                          .BEND


               MAX
               MAY
                          .BLOCK
1028 20 08 0A             JSR SAVESTACK
102B AD 38 0C             LDA CMD
102E 8D 40 10             STA COMMAND
1031 A9 06                LDA #6
1033 8D D5 0C             STA CLOCK
               LOOP
1036 A2 00                LDX #0
1038 A0 00                LDY #0
103A AD D5 0C             LDA CLOCK
103D 20 61 08             JSR SETINT
               COMMAND
1040 9D F0 FF             STA $FFF0,X
1043 EA                   NOP
1044 20 F3 08             JSR RESTOREINT
1047 AE D5 0C             LDX CLOCK
104A BD 5D 10             LDA RIGHT,X
104D A2 40                LDX #<COMMAND
104F A0 10                LDY #>COMMAND
1051 20 D8 0C             JSR COMPARE
1054 CE D5 0C             DEC CLOCK
1057 10 DD                BPL LOOP
1059 20 18 0A             JSR RESTORESTACK
105C 60                   RTS
105D 03 03 03 03 03 03 04
               RIGHT      .BYTE 3,3,3,3,3,3,4
                          .BEND


               RIX
               WIX
                          .BLOCK
1064 20 08 0A             JSR SAVESTACK
1067 AD 38 0C             LDA CMD
106A 8D 82 10             STA COMMAND
106D A9 02                LDA #$02
106F 85 AC                STA 172
1071 A9 00                LDA #$00
1073 85 AD                STA 173
1075 A9 05                LDA #5
1077 8D D5 0C             STA CLOCK
               LOOP
107A A2 00                LDX #0
107C AD D5 0C             LDA CLOCK
107F 20 61 08             JSR SETINT
               COMMAND
1082 A1 AC                LDA (172,X)
1084 EA                   NOP
1085 20 F3 08             JSR RESTOREINT
1088 AE D5 0C             LDX CLOCK
108B BD 9E 10             LDA RIGHT,X
108E A2 82                LDX #<COMMAND
1090 A0 10                LDY #>COMMAND
1092 20 D8 0C             JSR COMPARE
1095 CE D5 0C             DEC CLOCK
1098 10 E0                BPL LOOP
109A 20 18 0A             JSR RESTORESTACK
109D 60                   RTS
109E 02 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,2,3
                          .BEND


               MIX
                          .BLOCK
10A4 20 08 0A             JSR SAVESTACK
10A7 AD 38 0C             LDA CMD
10AA 8D C2 10             STA COMMAND
10AD A9 02                LDA #$02
10AF 85 AC                STA 172
10B1 A9 00                LDA #$00
10B3 85 AD                STA 173
10B5 A9 07                LDA #7
10B7 8D D5 0C             STA CLOCK
               LOOP
10BA A2 00                LDX #0
10BC AD D5 0C             LDA CLOCK
10BF 20 61 08             JSR SETINT
               COMMAND
10C2 A1 AC                LDA (172,X)
10C4 EA                   NOP
10C5 20 F3 08             JSR RESTOREINT
10C8 AE D5 0C             LDX CLOCK
10CB BD DE 10             LDA RIGHT,X
10CE A2 C2                LDX #<COMMAND
10D0 A0 10                LDY #>COMMAND
10D2 20 D8 0C             JSR COMPARE
10D5 CE D5 0C             DEC CLOCK
10D8 10 E0                BPL LOOP
10DA 20 18 0A             JSR RESTORESTACK
10DD 60                   RTS
10DE 02 02 02 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,2,2,2,3
                          .BEND


               RIY
                          .BLOCK
10E6 20 08 0A             JSR SAVESTACK
10E9 AD 38 0C             LDA CMD
10EC 8D 07 11             STA COMMAND
10EF 8D 2C 11             STA COMMAND1
10F2 A9 F0                LDA #$F0
10F4 85 AC                STA 172
10F6 A9 FF                LDA #$FF
10F8 85 AD                STA 173
10FA A9 04                LDA #4
10FC 8D D5 0C             STA CLOCK
               LOOP
10FF A0 00                LDY #$00
1101 AD D5 0C             LDA CLOCK
1104 20 61 08             JSR SETINT
               COMMAND
1107 B1 AC                LDA (172),Y
1109 EA                   NOP
110A 20 F3 08             JSR RESTOREINT
110D AE D5 0C             LDX CLOCK
1110 BD 48 11             LDA RIGHT,X
1113 A2 07                LDX #<COMMAND
1115 A0 11                LDY #>COMMAND
1117 20 D8 0C             JSR COMPARE
111A CE D5 0C             DEC CLOCK
111D 10 E0                BPL LOOP
111F A9 05                LDA #5
1121 8D D5 0C             STA CLOCK
               LOOP1
1124 A0 12                LDY #$12
1126 AD D5 0C             LDA CLOCK
1129 20 61 08             JSR SETINT
               COMMAND1
112C B1 AC                LDA (172),Y
112E EA                   NOP
112F 20 F3 08             JSR RESTOREINT
1132 AE D5 0C             LDX CLOCK
1135 BD 4D 11             LDA RIGHT1,X
1138 A2 2C                LDX #<COMMAND1
113A A0 11                LDY #>COMMAND1
113C 20 D8 0C             JSR COMPARE
113F CE D5 0C             DEC CLOCK
1142 10 E0                BPL LOOP1
1144 20 18 0A             JSR RESTORESTACK
1147 60                   RTS
1148 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,3
114D 02 02 02 02 02 03
               RIGHT1     .BYTE 2,2,2,2,2,3
                          .BEND


               WIY
                          .BLOCK
1153 20 08 0A             JSR SAVESTACK
1156 AD 38 0C             LDA CMD
1159 8D 71 11             STA COMMAND
115C A9 F0                LDA #$F0
115E 85 AC                STA 172
1160 A9 FF                LDA #$FF
1162 85 AD                STA 173
1164 A9 05                LDA #5
1166 8D D5 0C             STA CLOCK
               LOOP
1169 A0 00                LDY #$00
116B AD D5 0C             LDA CLOCK
116E 20 61 08             JSR SETINT
               COMMAND
1171 B1 AC                LDA (172),Y
1173 EA                   NOP
1174 20 F3 08             JSR RESTOREINT
1177 AE D5 0C             LDX CLOCK
117A BD 8D 11             LDA RIGHT,X
117D A2 71                LDX #<COMMAND
117F A0 11                LDY #>COMMAND
1181 20 D8 0C             JSR COMPARE
1184 CE D5 0C             DEC CLOCK
1187 10 E0                BPL LOOP
1189 20 18 0A             JSR RESTORESTACK
118C 60                   RTS
118D 02 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,2,3
                          .BEND


               MIY
                          .BLOCK
1193 20 08 0A             JSR SAVESTACK
1196 AD 38 0C             LDA CMD
1199 8D B1 11             STA COMMAND
119C A9 F0                LDA #$F0
119E 85 AC                STA 172
11A0 A9 FF                LDA #$FF
11A2 85 AD                STA 173
11A4 A9 07                LDA #7
11A6 8D D5 0C             STA CLOCK
               LOOP
11A9 A0 00                LDY #$00
11AB AD D5 0C             LDA CLOCK
11AE 20 61 08             JSR SETINT
               COMMAND
11B1 B1 AC                LDA (172),Y
11B3 EA                   NOP
11B4 20 F3 08             JSR RESTOREINT
11B7 AE D5 0C             LDX CLOCK
11BA BD CD 11             LDA RIGHT,X
11BD A2 B1                LDX #<COMMAND
11BF A0 11                LDY #>COMMAND
11C1 20 D8 0C             JSR COMPARE
11C4 CE D5 0C             DEC CLOCK
11C7 10 E0                BPL LOOP
11C9 20 18 0A             JSR RESTORESTACK
11CC 60                   RTS
11CD 02 02 02 02 02 02 02 03
               RIGHT      .BYTE 2,2,2,2,2,2,2,3
                          .BEND


               R
                          .BLOCK
               FROM       = $2000
               TO         = $2000
11D5 AD 38 0C             LDA CMD
11D8 8D FE 1F             STA FROM-2
11DB A2 F3                LDX #$F3
11DD 29 20                AND #$20
11DF F0 02                BEQ CLEAR
11E1 A2 30                LDX #$30
               CLEAR
11E3 8A                   TXA
11E4 48                   PHA
11E5 A9 00                LDA #TO-FROM&$FF
11E7 8D FF 1F             STA FROM-1
11EA A9 EA                LDA #$EA
11EC 8D 00 20             STA TO
11EF A9 60                LDA #$60
11F1 8D 01 20             STA TO+1
11F4 A9 00                LDA #0
11F6 8D D5 0C             STA CLOCK
11F9 A9 0A                LDA #10
11FB 20 61 08             JSR SETINT
11FE 28                   PLP
11FF 20 FE 1F             JSR FROM-2
1202 20 F3 08             JSR RESTOREINT
1205 A2 00                LDX #<TO
1207 A0 20                LDY #>TO
1209 A9 00                LDA #0
120B 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $2000
               TO         = $2000
120E AD 38 0C             LDA CMD
1211 8D FE 1F             STA FROM-2
1214 A2 F3                LDX #$F3
1216 29 20                AND #$20
1218 F0 02                BEQ CLEAR
121A A2 30                LDX #$30
               CLEAR
121C 8A                   TXA
121D 48                   PHA
121E A9 00                LDA #TO-FROM&$FF
1220 8D FF 1F             STA FROM-1
1223 A9 EA                LDA #$EA
1225 8D 00 20             STA TO
1228 A9 60                LDA #$60
122A 8D 01 20             STA TO+1
122D A9 01                LDA #1
122F 8D D5 0C             STA CLOCK
1232 A9 0B                LDA #11
1234 20 61 08             JSR SETINT
1237 28                   PLP
1238 20 FE 1F             JSR FROM-2
123B 20 F3 08             JSR RESTOREINT
123E A2 00                LDX #<TO
1240 A0 20                LDY #>TO
1242 A9 01                LDA #1
1244 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $2000
               TO         = $2010
1247 AD 38 0C             LDA CMD
124A 8D FE 1F             STA FROM-2
124D A2 F3                LDX #$F3
124F 29 20                AND #$20
1251 D0 02                BNE CLEAR
1253 A2 30                LDX #$30
               CLEAR
1255 8A                   TXA
1256 48                   PHA
1257 A9 10                LDA #TO-FROM&$FF
1259 8D FF 1F             STA FROM-1
125C A9 EA                LDA #$EA
125E 8D 10 20             STA TO
1261 A9 60                LDA #$60
1263 8D 11 20             STA TO+1
1266 A9 00                LDA #0
1268 8D D5 0C             STA CLOCK
126B A9 0A                LDA #10
126D 20 61 08             JSR SETINT
1270 28                   PLP
1271 20 FE 1F             JSR FROM-2
1274 20 F3 08             JSR RESTOREINT
1277 A2 10                LDX #<TO
1279 A0 20                LDY #>TO
127B A9 00                LDA #0
127D 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $2000
               TO         = $2010
1280 AD 38 0C             LDA CMD
1283 8D FE 1F             STA FROM-2
1286 A2 F3                LDX #$F3
1288 29 20                AND #$20
128A D0 02                BNE CLEAR
128C A2 30                LDX #$30
               CLEAR
128E 8A                   TXA
128F 48                   PHA
1290 A9 10                LDA #TO-FROM&$FF
1292 8D FF 1F             STA FROM-1
1295 A9 EA                LDA #$EA
1297 8D 10 20             STA TO
129A A9 60                LDA #$60
129C 8D 11 20             STA TO+1
129F A9 01                LDA #1
12A1 8D D5 0C             STA CLOCK
12A4 A9 0B                LDA #11
12A6 20 61 08             JSR SETINT
12A9 28                   PLP
12AA 20 FE 1F             JSR FROM-2
12AD 20 F3 08             JSR RESTOREINT
12B0 A2 10                LDX #<TO
12B2 A0 20                LDY #>TO
12B4 A9 01                LDA #1
12B6 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $2000
               TO         = $2010
12B9 AD 38 0C             LDA CMD
12BC 8D FE 1F             STA FROM-2
12BF A2 F3                LDX #$F3
12C1 29 20                AND #$20
12C3 D0 02                BNE CLEAR
12C5 A2 30                LDX #$30
               CLEAR
12C7 8A                   TXA
12C8 48                   PHA
12C9 A9 10                LDA #TO-FROM&$FF
12CB 8D FF 1F             STA FROM-1
12CE A9 EA                LDA #$EA
12D0 8D 10 20             STA TO
12D3 A9 60                LDA #$60
12D5 8D 11 20             STA TO+1
12D8 A9 02                LDA #2
12DA 8D D5 0C             STA CLOCK
12DD A9 0C                LDA #12
12DF 20 61 08             JSR SETINT
12E2 28                   PLP
12E3 20 FE 1F             JSR FROM-2
12E6 20 F3 08             JSR RESTOREINT
12E9 A2 10                LDX #<TO
12EB A0 20                LDY #>TO
12ED A9 01                LDA #1
12EF 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $1FF0
               TO         = $2010
12F2 AD 38 0C             LDA CMD
12F5 8D EE 1F             STA FROM-2
12F8 A2 F3                LDX #$F3
12FA 29 20                AND #$20
12FC D0 02                BNE CLEAR
12FE A2 30                LDX #$30
               CLEAR
1300 8A                   TXA
1301 48                   PHA
1302 A9 20                LDA #TO-FROM&$FF
1304 8D EF 1F             STA FROM-1
1307 A9 EA                LDA #$EA
1309 8D 10 20             STA TO
130C A9 60                LDA #$60
130E 8D 11 20             STA TO+1
1311 A9 01                LDA #1
1313 8D D5 0C             STA CLOCK
1316 A9 0B                LDA #11
1318 20 61 08             JSR SETINT
131B 28                   PLP
131C 20 EE 1F             JSR FROM-2
131F 20 F3 08             JSR RESTOREINT
1322 A2 10                LDX #<TO
1324 A0 20                LDY #>TO
1326 A9 00                LDA #0
1328 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $1FF0
               TO         = $2010
132B AD 38 0C             LDA CMD
132E 8D EE 1F             STA FROM-2
1331 A2 F3                LDX #$F3
1333 29 20                AND #$20
1335 D0 02                BNE CLEAR
1337 A2 30                LDX #$30
               CLEAR
1339 8A                   TXA
133A 48                   PHA
133B A9 20                LDA #TO-FROM&$FF
133D 8D EF 1F             STA FROM-1
1340 A9 EA                LDA #$EA
1342 8D 10 20             STA TO
1345 A9 60                LDA #$60
1347 8D 11 20             STA TO+1
134A A9 02                LDA #2
134C 8D D5 0C             STA CLOCK
134F A9 0C                LDA #12
1351 20 61 08             JSR SETINT
1354 28                   PLP
1355 20 EE 1F             JSR FROM-2
1358 20 F3 08             JSR RESTOREINT
135B A2 10                LDX #<TO
135D A0 20                LDY #>TO
135F A9 00                LDA #0
1361 20 D8 0C             JSR COMPARE
                          .BEND

                          .BLOCK
               FROM       = $1FF0
               TO         = $2010
1364 AD 38 0C             LDA CMD
1367 8D EE 1F             STA FROM-2
136A A2 F3                LDX #$F3
136C 29 20                AND #$20
136E D0 02                BNE CLEAR
1370 A2 30                LDX #$30
               CLEAR
1372 8A                   TXA
1373 48                   PHA
1374 A9 20                LDA #TO-FROM&$FF
1376 8D EF 1F             STA FROM-1
1379 A9 EA                LDA #$EA
137B 8D 10 20             STA TO
137E A9 60                LDA #$60
1380 8D 11 20             STA TO+1
1383 A9 03                LDA #3
1385 8D D5 0C             STA CLOCK
1388 A9 0D                LDA #13
138A 20 61 08             JSR SETINT
138D 28                   PLP
138E 20 EE 1F             JSR FROM-2
1391 20 F3 08             JSR RESTOREINT
1394 A2 10                LDX #<TO
1396 A0 20                LDY #>TO
1398 A9 01                LDA #1
139A 20 D8 0C             JSR COMPARE
                          .BEND

139D 60                   RTS


               BRKN
                          .BLOCK
139E A9 28                LDA #40
13A0 8D D5 0C             STA CLOCK
               LOOP
13A3 AD D5 0C             LDA CLOCK
13A6 20 61 08             JSR SETINT
13A9 00                   BRK
13AA EA                   NOP
               BRKIRQ
13AB 20 F3 08             JSR RESTOREINT
13AE AD 5F 08             LDA FLAGSBEFORE
13B1 49 10                EOR #$10
13B3 8D 5F 08             STA FLAGSBEFORE
13B6 A2 AB                LDX #<BRKIRQ
13B8 A0 13                LDY #>BRKIRQ
13BA A9 00                LDA #0
13BC 20 D8 0C             JSR COMPARE
13BF CE D5 0C             DEC CLOCK
13C2 10 DF                BPL LOOP
13C4 60                   RTS
                          .BEND


               PHAN
               PHPN
                          .BLOCK
13C5 AD 38 0C             LDA CMD
13C8 8D D6 13             STA COMMAND
13CB A9 02                LDA #2
13CD 8D D5 0C             STA CLOCK
               LOOP
13D0 AD D5 0C             LDA CLOCK
13D3 20 61 08             JSR SETINT
               COMMAND
13D6 EA                   NOP
13D7 68                   PLA
13D8 20 F3 08             JSR RESTOREINT
13DB AE D5 0C             LDX CLOCK
13DE BD EE 13             LDA RIGHT,X
13E1 A2 D6                LDX #<COMMAND
13E3 A0 13                LDY #>COMMAND
13E5 20 D8 0C             JSR COMPARE
13E8 CE D5 0C             DEC CLOCK
13EB 10 E3                BPL LOOP
13ED 60                   RTS
13EE 01 01 02  RIGHT      .BYTE 1,1,2
                          .BEND


               PLAN
               PLPN
                          .BLOCK
13F1 AD 38 0C             LDA CMD
13F4 8D 05 14             STA COMMAND
13F7 A9 03                LDA #3
13F9 8D D5 0C             STA CLOCK
               LOOP
13FC A9 00                LDA #0
13FE 48                   PHA
13FF AD D5 0C             LDA CLOCK
1402 20 61 08             JSR SETINT
               COMMAND
1405 EA                   NOP
1406 EA                   NOP
1407 20 F3 08             JSR RESTOREINT
140A AE D5 0C             LDX CLOCK
140D BD 1D 14             LDA RIGHT,X
1410 A2 05                LDX #<COMMAND
1412 A0 14                LDY #>COMMAND
1414 20 D8 0C             JSR COMPARE
1417 CE D5 0C             DEC CLOCK
141A 10 E0                BPL LOOP
141C 60                   RTS
141D 01 01 01 02
               RIGHT      .BYTE 1,1,1,2
                          .BEND


               JMPW
                          .BLOCK
1421 A9 02                LDA #2
1423 8D D5 0C             STA CLOCK
               LOOP
1426 AD D5 0C             LDA CLOCK
1429 20 61 08             JSR SETINT
142C 4C 30 14             JMP TARGET
142F 00                   BRK
               TARGET
1430 EA                   NOP
1431 20 F3 08             JSR RESTOREINT
1434 AE D5 0C             LDX CLOCK
1437 BD 47 14             LDA RIGHT,X
143A A2 30                LDX #<TARGET
143C A0 14                LDY #>TARGET
143E 20 D8 0C             JSR COMPARE
1441 CE D5 0C             DEC CLOCK
1444 10 E0                BPL LOOP
1446 60                   RTS
1447 00 00 01  RIGHT      .BYTE 0,0,1
                          .BEND


               JMPI
                          .BLOCK
144A A9 63                LDA #<TARGET
144C 8D 00 20             STA $2000
144F A9 14                LDA #>TARGET
1451 8D 01 20             STA $2001
1454 A9 04                LDA #4
1456 8D D5 0C             STA CLOCK
               LOOP
1459 AD D5 0C             LDA CLOCK
145C 20 61 08             JSR SETINT
145F 6C 00 20             JMP ($2000)
1462 00                   BRK
               TARGET
1463 EA                   NOP
1464 20 F3 08             JSR RESTOREINT
1467 AE D5 0C             LDX CLOCK
146A BD 7A 14             LDA RIGHT,X
146D A2 63                LDX #<TARGET
146F A0 14                LDY #>TARGET
1471 20 D8 0C             JSR COMPARE
1474 CE D5 0C             DEC CLOCK
1477 10 E0                BPL LOOP
1479 60                   RTS
147A 00 00 00 00 01
               RIGHT      .BYTE 0,0,0,0,1
                          .BEND


               JSRW
                          .BLOCK
147F A9 05                LDA #5
1481 8D D5 0C             STA CLOCK
               LOOP
1484 AD D5 0C             LDA CLOCK
1487 20 61 08             JSR SETINT
148A 20 8E 14             JSR TARGET
148D 00                   BRK
               TARGET
148E 68                   PLA
148F 68                   PLA
1490 20 F3 08             JSR RESTOREINT
1493 AE D5 0C             LDX CLOCK
1496 BD A6 14             LDA RIGHT,X
1499 A2 8E                LDX #<TARGET
149B A0 14                LDY #>TARGET
149D 20 D8 0C             JSR COMPARE
14A0 CE D5 0C             DEC CLOCK
14A3 10 DF                BPL LOOP
14A5 60                   RTS
14A6 00 00 00 00 00 01
               RIGHT      .BYTE 0,0,0,0,0,1
                          .BEND


               RTSN
                          .BLOCK
14AC A9 05                LDA #5
14AE 8D D5 0C             STA CLOCK
               LOOP
14B1 A9 14                LDA #>CONTINUE-1
14B3 48                   PHA
14B4 A9 BD                LDA #<CONTINUE-1
14B6 48                   PHA
14B7 AD D5 0C             LDA CLOCK
14BA 20 61 08             JSR SETINT
14BD 60                   RTS
               CONTINUE
14BE EA                   NOP
14BF 20 F3 08             JSR RESTOREINT
14C2 AE D5 0C             LDX CLOCK
14C5 BD D5 14             LDA RIGHT,X
14C8 A2 BE                LDX #<CONTINUE
14CA A0 14                LDY #>CONTINUE
14CC 20 D8 0C             JSR COMPARE
14CF CE D5 0C             DEC CLOCK
14D2 10 DD                BPL LOOP
14D4 60                   RTS
14D5 00 00 00 00 00 01
               RIGHT      .BYTE 0,0,0,0,0,1
                          .BEND


               RTIN
                          .BLOCK
14DB A9 05                LDA #5
14DD 8D D5 0C             STA CLOCK
               LOOP
14E0 A9 14                LDA #>CONTINUE
14E2 48                   PHA
14E3 A9 EE                LDA #<CONTINUE
14E5 48                   PHA
14E6 08                   PHP
14E7 AD D5 0C             LDA CLOCK
14EA 20 61 08             JSR SETINT
14ED 40                   RTI
               CONTINUE
14EE EA                   NOP
14EF 20 F3 08             JSR RESTOREINT
14F2 AE D5 0C             LDX CLOCK
14F5 BD 05 15             LDA RIGHT,X
14F8 A2 EE                LDX #<CONTINUE
14FA A0 14                LDY #>CONTINUE
14FC 20 D8 0C             JSR COMPARE
14FF CE D5 0C             DEC CLOCK
1502 10 DC                BPL LOOP
1504 60                   RTS
1505 00 00 00 00 00 01
               RIGHT      .BYTE 0,0,0,0,0,1
                          .BEND


               HLTN
150B 60                   RTS

