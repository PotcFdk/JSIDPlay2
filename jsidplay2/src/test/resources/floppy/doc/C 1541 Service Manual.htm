<html>
<head>
  <Title> 28.06.2010 - C 1541  Service Manual</Title>

<meta http-equiv="Content-Type" content="text/html;charset=windows-1252">
</head>
<body text="#000000" bgcolor="#222222" link="#FFF0F0" vlink="#FFF0F0" alink="#FFF0F0" LEFTMARGIN="5" TOPMARGIN="8" MARGINHEIGHT="8" MARGINWIDTH="5">
<center>
<map name="oben">
<area SHAPE="RECT" COORDS="1, 20, 50, 60" target="_parent" href="http://www.htu.tugraz.at/~herwig/">
</map>
<center><table border=0 cellpadding=0 cellspacing=5 width=100%>
<center><tr><td><table border=0 cellpadding=0 cellspacing=0 width=100%>
<tr><td height=60 bgcolor="#FFFFFF" width=155 background="C%201541%20Service%20Manual_files/u0200000.png"><font face="Verdana, Helvetica, Arial" size="-1"><IMG SRC="C%201541%20Service%20Manual_files/u0100000.png" width=155 height=60 border=0 usemap="#oben"></font></td><td background="C%201541%20Service%20Manual_files/u0200000.png" valign=bottom><font face="Verdana, Helvetica, Arial" size="-2"><a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/"><font color="#E86600">C-64</font></a> &nbsp; Commodore 64 &#0150; System</font></td><td align=right background="C%201541%20Service%20Manual_files/u0200000.png"><font face="Verdana, Helvetica, Arial" size="-1"><IMG SRC="C%201541%20Service%20Manual_files/u0300000.png" width=155 height=60 border=0></font></td></tr>
</table></td></tr></center></table></center>
<table cellpadding=0 cellspacing=5 width=100% border=0>
<tr valign=top><td height=380 background="C%201541%20Service%20Manual_files/l0000000.png" width=120 bgcolor="#F8F8F8"><font face="Verdana, Helvetica, Arial" size="-2"><IMG SRC="C%201541%20Service%20Manual_files/l2000000.png" width=120 height=8><br>
<IMG SRC="C%201541%20Service%20Manual_files/lt-c6400.png" width=120 height=12><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/memory.php">Memory Map</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/float.php">Float Map</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/rommap.php">ROM Map</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/basicrom.php">Basic ROM</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/kernalrom.php">Kernal ROM</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/charrom.php">Char ROM</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/cpu.php">CPU 6510</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/vic.php">VIC 6569</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/sid.php">SID 6581</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/cia.php">CIA 6526</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/pla.php">PLA</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/key.php">Keyboard</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/ctrl.php">Control-Ports</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/ports.php">sonstige Ports</a><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/bauteile.php">Bauteile</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/schema1.php">Schematik 1</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/schema2.php">Schematik 2</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/bus.php">Bus-Schematik</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/modulator.php">HF-Modulator</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/datasette.php">Datasette</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/reset.php">Reset</a><br>

<IMG SRC="C%201541%20Service%20Manual_files/l-sep200.png" width=120 height=28><br><IMG SRC="C%201541%20Service%20Manual_files/lt-15410.png" width=120 height=12><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/1541mem.php">Memory Map</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/1541rom.php">Rom Listing</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/via.php">VIA 6522</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="">Service</a><br>
&nbsp;
</font></td><td bgcolor="#FFFFFF"><font face="Verdana, Helvetica, Arial" size="-1">
<table border=0 cellpadding=8 cellspacing=0>
<tr><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp;<br><b>C 1541 &nbsp; Service Manual</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">
&#0149; Specifications<br>
&#0149; Block Diagramm<br>
&#0149; Care and Maintenance<br>
&#0149; Overview<br>
&#0149; Flash Code<br>
&#0149; Circuit Theory<font size="-2"><br>
&nbsp; &nbsp; &#0150; Power Supply<br>
&nbsp; &nbsp; &#0150; Reset Logic<br>
&nbsp; &nbsp; &#0150; Clock Circuits<br>
&nbsp; &nbsp; &#0150; Microprocessor Control of RAM and ROM<br>
&nbsp; &nbsp; &#0150; Serial Interface<br>
&nbsp; &nbsp; &#0150; Microprocessoer R/W and Motor Control Logic<br>
&nbsp; &nbsp; &#0150; Read/Write Control Logic<br>
&nbsp; &nbsp; &#0150; Read Amplifier<br>
&nbsp; &nbsp; &#0150; Write Amplifier<br>
&nbsp; &nbsp; &#0150; Power up/down/ Write Protection<br>
&nbsp; &nbsp; &#0150; Stepper Motor Control Circuits<br>
&nbsp; &nbsp; &#0150; Spindle Motor Control Circuits<br></font>&nbsp;
</font></td><td width=30></td><td><FONT FACE="Arial,Helvetica" size="-1">
&#0149; Troubleshooting Guide<br>
&#0149; Resistance Checks<br>
&#0149; Casework/Accessory Parts List<br>
&#0149; Model Indentification<br>
&#0149; Device Number Change</font></td></tr>
<tr bgcolor="#000000"><td colspan=3 height=1></td></tr>
</table>
<P>
<b>Product Specification</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><nobr>General Description: &nbsp; &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">The C1541 Disk Drive is an external 5-&#0185;/<font size="-2">4</font> inch floppy diskette recorder, offering high-speed and capacity for programs and data. It is an intelligent device, containing its own microprocessor, RAM, ROM and operating systems software for faster speed of throughput and memory efficiency in the computer</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Maximum Storage:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">170K of data (formatted) - 35 tracks</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Media:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">5-1/4 Inch floppy disk. Single sided, single density, soft sectored (double density can be used, but not needed)</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Input/Output:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Commodore serial interface<br>Second serial port for chaining a second drive or printer</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Controller:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">MOS 6502 microprocessor - 1 MHz clock</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Memory:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">2K RAM, 16K ROM</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Data Transfer Rate:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">400 Bytes/sec</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">File Types:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Program, sequential, relative, random-access and user</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Number of Files:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Up to 144 different files per diskette</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Computers:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">C64, VIC 20, SX64, Educator 64, Plus/4, C16</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Media Compatibility:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">2031, 4040, C1551, C1571</font></td></tr>
<tr valign=top><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">Power Requirements:</font></td><td bgcolor="#F4F4F4"><FONT FACE="Arial,Helvetica" size="-1">120 Volts AC, 60Hz - integral power supply with external 1 Amp fuse</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Power Consumption:</font></td><td><FONT FACE="Arial,Helvetica" size="-1">30 Watts maximum</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Block Diagramm</b>
<P>
<IMG SRC="C%201541%20Service%20Manual_files/1541serv.png" width=480 height=507>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Care and Maintenance</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><nobr>&nbsp; &#0149; &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">DO NOT use MAGNETIZED tools when repairing or adjusting a disk drive.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp; &#0149;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">DO NOT place a disk drive near any device which generates "noise" e.g., - motors, radios televisions.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp; &#0149;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">DO NOT stack drives upon each other or in any way inhibit air flow around the unit. HEAT BUILD-UP can cause disk failures.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp; &#0149;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Periodically CLEAN the read/write head with 90% isopropyl alcohol and a cotton swab. CHECK load pad for excess wear. Clean or replace as necessary.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp; &#0149;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Take the following precautions when handling a diskette:<font size="-2"><br>&nbsp; &nbsp; ALWAYS store a diskette in its jacket.<br>&nbsp; &nbsp; Use ONLY felt-tip pens when writing on the label of a diskette.<br>&nbsp; &nbsp; Do not bend or physically damage a diskette.<br>&nbsp; &nbsp; Do not place a diskette in the area of a magnetic field.<br>&nbsp; &nbsp; Do not attempt to clean a diskette.<br>&nbsp; &nbsp; Do not touch the exposed area of a diskette.</font></font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">&nbsp; &#0149;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">DIAGNOSTIC and ADJUSTMENT procedures are outlined in detail on the diagnostic disk (Commodore Part #31405101). A manual has been added to the diagnostic package. It contain descriptions of testing procedures and adjustment methods.</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Overview</b>
<P>
The drive itself an independent memory device. THe drive is composed of a media clamp rotating mechanism, a head positioning mechanism and an eject mechanism. All positioning operations, excluding insertion and removal of diskettes, are controlled by the internal guide mechanism. Closing the front door causes the media clamp mechanism to operate. Two operations are performed in the following order:
<P>
&nbsp; &nbsp; a) &nbsp; The diskette is centered.<br>
&nbsp; &nbsp; b) &nbsp; The diskette is clamped and retained between the spindle and the hub.
<P>
The spindle and hub rotates at 300 r.p.m. through a closed/loop control circuit employing a D.C motor/tachometer. It is important that the relationship between the head and the media is maintained correctly during operation. For this purpose, a pressure pad is used to hold and press down the media (about 12g) from the opposite side of the head. This head assembly is coupled by a metal band to a four base stepping motor which performs the track positioning. One step of the stepping motor corresponds to a 1/2 track movement. The control circuit on the logic board selects the direction and number of steps to the desired track.
<P>
The Read/Write head uses a glass-bonded, ferrite/ceramic head. Track-to-track erasing is accomplished by the straddle erase method. The surface of the Read/Write head is mirror-ground to minimize wear of the head and media. Also, the head is designed in such a way that the maximum signal can be obtained from the media surface.
<P>
The spindle drive motor operates on 12 VDC and turns the spindle, through a belt drive, at 300 revolutions per minute. The speed of the drive motor is controlled by a feedback signal from a tachometer, which is housed in the drive motor assembly. The feedback signal controls a servo amp that supplies the 12 VDC drive current.
<P>
<b>Flash Code</b>
<P>
The 1541, upon power-up, goes through its own internal diagnostic. If an electronic problem is detected, it's indicated by flash code. The led's will blink a number of times, pause, and then flash again until the problem is corrected.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Number of flashes &nbsp; &nbsp; &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Possible failure</font></td></tr>
<tr bgcolor="#000000"><td colspan=2 height=1></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">2</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Zero page</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">3,4</font></td><td><FONT FACE="Arial,Helvetica" size="-1">DOS ROM's</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">5,6,7,8</font></td><td><FONT FACE="Arial,Helvetica" size="-1">RAM</font></td></tr>
</table>
<P>
Circuitry associated with these components can also cause the failure code. Therefore, it should be suspected as the next possible defect.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Circuit Theory</b>
<P>
<font color="#A00000">The Power Supply</font>
<P>
<IMG SRC="C%201541%20Service%20Manual_files/1541serw.png">
<P>
The input AC voltage is controlled by switch 1 (SW1). Disk circuit protection is provided by fuse 1 (F1). If SW1 is closed, the AC voltage input is applied to the primary winding of transformer one (T1). T1 steps down th AC input voltage into two smaller AC voltages. The top secondary AC output (approx. 16VRMS) is converted to DC by the Full Wave Bridge Rectifier CR1. The DC output of CR1 is regulated at 12VDC by VR1. The bottom secondary AC output of T1 (approx. 9VRMS) is converted to DC by the Full Wave Rectifier CR3. The DC output of CR3 is regulated at +5VDC by VR2. High frequency filtering is provided by C1 and C3 for the 12VDC supply, and C4, C6 to C9, C22, C27 to C30 for the 5VDC supply. Low frequency filtering is provided by C17 and C2 for the 12VDC supply, and C5 and C16 for the 5VDC supply.
<P>
<font color="#A00000">The Reset Circuit</font>
<P>

<P>
The output of the exclusive 'or' gate UD3 pin 6 will be "low" until C46 has charged through R25. Once the voltage across C46 reaches 2 volts, the output of UD3 pin 6 will go "high". This occurs when the disk is powered on, or a reset pulse is generated by a device connected to the serial bus. The reset pulse on the serial bus interface is input on, pin 6 of P2 or P3. This "low" to "high" going pulse on pin 6 of UD3 is input to the microprocessors reset interrupt input. This causes a restart on reset routine to be executed giving control of the disk drive operation to the Disk Operating System (DOS).
<P>
<font color="#A00000">The Clock Circuits</font>
<P>

<P>
Crystal Y1 outputs a 16Mhz clock signal. THis is input to UD5 on pin 8. UD5 is configured as a ÷ 16 frequency divider. The output of UD5 pin 12 is a 1 MHz clock signal used as the system clock (Phase 0) for the microprocessor. UE6 is a programmable counter ( ÷ 16, ÷ 15, ÷ 14, ÷ 13) that outputs a varying frequency clock used to compensate for the difference in recording area/sector for sectors on inner tracks (Trks 1,2,3) as compared to sectors on out most tracks (Trks 33,34,35). The area/sector for inner tracks is less than the area/sector for out most tracks, so the recording clock frequency is increased when writing on inner tracks to keep the flux density constant. This clock output is on pin 12 of UE6.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Tracks &nbsp; &nbsp;</font></td><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">Clock Frequency &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Divide By</font></td></tr>
<tr bgcolor="#000000"><td colspan=4 height=1></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1-17</font></td><td width=50><FONT FACE="Arial,Helvetica" size="-1"><nobr>1.2307 &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">MHz</font></td><td align=center><FONT FACE="Arial,Helvetica" size="-1">13</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">18-24</font></td><td width=50><FONT FACE="Arial,Helvetica" size="-1">1.1428</font></td><td><FONT FACE="Arial,Helvetica" size="-1">MHz</font></td><td align=center><FONT FACE="Arial,Helvetica" size="-1">14</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">15-30</font></td><td width=50><FONT FACE="Arial,Helvetica" size="-1">1.0666</font></td><td><FONT FACE="Arial,Helvetica" size="-1">MHz</font></td><td align=center><FONT FACE="Arial,Helvetica" size="-1">15</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">31-35</font></td><td width=50><FONT FACE="Arial,Helvetica" size="-1">1</font></td><td><FONT FACE="Arial,Helvetica" size="-1">MHz</font></td><td align=center><FONT FACE="Arial,Helvetica" size="-1">16</font></td></tr>
</table>
<P>
<font color="#A00000">Microprocessor Control of RAM and ROM</font>
<P>

<P>
UB3 and UB4 are 8192 x 8 bit ROMS that store the Disk Operating System (DOS). UB3 resides at memory locations $C000-$DFFF. UB4 resides at memory locations $E000-$FFFF. UC5 and UC6 decodes the addresses output from the microprocessor when selecting these ROMS. UB2 is a 2048 x 8 bit RAM. UB2 resides at memory locations $0000-$07FF. This memory is used for processor stack operations, general processor housekeeping, use program storage, and 4 temporary buffer areas. UC5, UC6 and UC7 decode the addresses output from the processor when selecting RAM.
<P>
<font color="#A00000">The Serial Interface</font>
<P>

<P>
UC3 is a 6522 Versatile Interface Adapter (VIA). Two parallel ports, handshake control, programmable timers, and interrupt control are standard features of the VIA. Port B signals (PB0-PB7) control the serial interface driver ICs (UB1 and UA1). CLK and DATA signals are bidirectional signals connected to pins 4 and 5 of P2 and P3. ANT (Attention) is an input on pin 3 of P2 and P3 that is sensed at PB7 and CA1 of UC3 after being inverted by UA1. ATNA (Attention Acknowledge) is an output from PB4 of UC3 which is sensed on the data line pin 5 of P2 and P4 after being exclusively "ored" by UD3 and inverted by UB1. UC3 is selected by UC7 pin 7 going "low" when the proper address is output from the processor. UC3 resides at memory locations $1C00-$1C0F.
<P>
<font color="#A00000">Microprocessor R/W and Motor Control Logic</font>
<P>

<P>
UC2 is a VIA also. During a write operation the microprocessor passes the data to be recorded to Port A of UC2. The data is then loaded into the PLA parallel port (YB0-YB7). The PLA contains a shift register which converts the parallel data into serial data. The PLA generates signals on pins 2, 3, 4, and 40 which control the write amplifier circuits on D-IN input on pin 24 of the PLA. The PLA shift register converts serial data into parallel data that is latched at the parallel port (YB0-YB7). The register converts serial data into parallel data that is latched at the parallel port (YB0-YB7). The microprocessor reads the parallel data that is latched at the parallel port (YB0-YB7). The microprocessor reads the parallel PLA output by reading Port A of UC2 when BYTE READY on pin 39 goes "low." The stepper motor is controlled by two outputs on port B of UC2 (STP0, and STP1). A binary four count is developed from these two lines, driving the four phases of the stepper motor. The PLA converts STP0 and STP1 into four outputs that represent one of the four states in the count (Y0,Y1,Y2,Y3). The Spindle motor is controlled by the output MTR of UC2. The PLA inverts this signal. It is then passed to the motor speed control pcb. UC2 pin 14 is an input that monitors the state of the write protect sensor, and pin 13 is an output that controls the activity light (RED LED). UC7 decodes the addresses output from the processor when selecting UC2. UC2 resides at memory locations $1800-$180F.
<P>
<font color="#A00000">Read/Write Control Logic</font>
<P>

<P>
During a write operation, UD3 converts parallel data into serial data. The output on pin 9 is input to 'NAND' gate UF5 pin 4. UF5 outputs the serial data on pin 6 at the clock rate determined by input signal on pin 5. The output clocks the D flip flop UF6. The outputs of UF6, Q and _Q, drive the write amplifiers. During a read operation, data from the read amplifiers is applied to the CLR input of counter UF4. The outputs, C and D, are shaped by the 'NOR' gate UE5. UE5 outputs the serial data on pin 1, then it is converted to parallel data by UD2. The output of UD2 is latched by UC3. The serial bits are counted by UE4, when 8 bits have been counted, UF3 pin 12 goes "low", UC1 pin 10 goes "high", and UF3 pin 8 goes "low" indicating a byte is ready to be read by the processor. UC2 monitors the parallel output of UD2, when all 8 bits are "1", the output pin 9 goes "low" indicating a sync bit has been read.
<P>
<font color="#A00000">Read Amplifier Circuits</font>
<P>

<P>
When data is recorded on the disk, a "1" bit is represented on the disk by a change in direction of magnetic flux, caused by a change in direction of current passed through the R/W coil in the R/W head. When a "0" bit is to be recorded, no change in current flow direction occurs, causing the direction of the magnetic flux to remain the same on the disk.
<P>

<P>
When data is being read from the disk, CEMF is induced into the R/W coil by the magnetic fields on the disk, causing current flow which is detected by the read amplifiers. Current flow through the R/W coil will forward bias wither CR16 or CR17, depending on the direction. Q7 and CR14 must be forward biased. The first amplifier UF3, senses this current flow from the R/W coil on one of the inputs and amplifies it. L9, L10, L11, L12 and C45 act as a low pass filter, suppressing noise on the amplified output. UF4 is a differential amplifier which amplifies the difference of the two input signals from the filter section. UE4 is a peak detector. The output of UE4 will pulse "high" when a "1" is read. This signal is then reconstruction of the data recorded. The Time Domain Filter, UD4, times out when a "1" bit has been read, so unwanted "1" bits are not added to the actual data. The One Shot UD4 generates the correct data pulse width so the PLA can convert the data to parallel for processor control.
<P>
<font color="#A00000">Write Amplifier Circuits</font>
<P>

<P>
During a write operation, B must be "high". This forward biases Q7 and CR14. If _B goes "low", Q3 and Q6 become forward biased. If Q goes "low", Q5 and CR15 become forward biased, passing current flow through R/W 1. If _Q goes "low", Q4 and CR18 become forward biased, passing current flow through R/W 2. When a write operation occurs, the ERASE coil is energized by forward biasing Q6. This demagnetizes the outer edges of the track, preventing data on one track from bleeding into the next track.
<P>
<font color="#A00000">Power Up/Down Write Protection</font>
<P>

<P>
This circuit prevents erroneous data from being written on the disk during power up/down sequences. During a power up, the 12VDC supply is not applied to the R/W coils and amplifier circuits before the processor has control of the logic. During a power down the 12VDC supply is removed from the R/w coils and amplifier circuits before the processor loses control of the logic. Q1 acts as a series pass transistor, biased to regulate the 12VF output to the R/W coils and Amplifier circuits. Q2 is a feedback amplifier monitoring the 5VDC supply. CR5 develops a precise reference voltage for Q2. L8 and C15 delay the 12VDC supply.
<P>
<font color="#A00000">Spindle Motor Control Circuits</font>
<P>

<P>
_MTR output from the PLA is active "low". This signal is passed, through the current driver UD2, to the motor control PCB. When _MTR is "low," Q1 is biased off, and Q2, Q3, and Q4 are biased on, allowing current flow through the spindle motor coil. Attached to the shaft of the spindle motor is an inductive tachometer that generates low level AC voltages, as the motor spins. The output of the tachometer is rectified by CR1-CR4. IC 1 monitors the output of the rectifier and adjusts the bias to Q2, which changes the bias on Q3 and Q4 to regulate motor current for a constant velocity. VR1 is a manual speed adjustment. The speed can be adjusted by watching the 60Hz strobe as the adjustment is made or loading the system test from the diagnostic disc. The Newtronics Motor Speed PCB is electronically the same as the ALPS Motor Speed PCB, but some of the discrete components have been integrated.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Troubleshooting Guide</b>
<P>
Always check for latest ROM/ECO upgrade. If socketed IC is suspected bad, be to check socket with ohmmeter.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Symptom</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Possible Solution</font></td></tr>
<tr bgcolor="#000000"><td colspan=2 height=1></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">No LED's on power up.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Is Power cord plugged into wall outlet correctly?<br>Is Power cord plugged in the disk drive correctly?<br>Check line fuse.<br>Check power switch.<br>Check clock on 6502 pin 37.<br>Check +5 and +12 volt lines.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Error LED flashes on power up.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check all RAM and ROM locations.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Error LED stays on all the time.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check 6502 microprocessor.<br>Check ROMs.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Drive motor runs continuously and red LED stays on.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check +12V.<br>Check 6502, logic gates, logic array.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Drive motor runs continuously and red LED stays off.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check Rom<br>Check drive motor PCB.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Drive motor runs continuously with no red or green LED's.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check VR2 (5V Regulator)<br>Check Power Transformer.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">After the drive warms up the motor runs continuously.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check 6522s.<br>Check motor control PCB.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Loads programs with red LED flashing.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check drive speed.<br>Check stepper motor.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Loading is intermittent.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check ROMs.<br>Check drive alignment.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Does not load when hot or LED flashed 3 times.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check ROMs.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Searches with LED flashing continuously.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check ROMs.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Searching with no red LED.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check 6522s, logic gates, logic array.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Message 'FILE NOT FOUND' is displayed</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Clean drive head w/alcohol.<br>Check 0 stop adjustment.<br>Check alignment.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">Drive fails to read.</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Check the 311, 9602, and 592s.<br>There are two +12 volt sources for stepper output<br>and read circuit, make sure both are good.</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Resistance Checks</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><IMG SRC="C%201541%20Service%20Manual_files/1541serx.png" width=159 height=174><P>32 ohms end to centertap<br>64 ohms end to end
</font></td><td width=20></td><td><FONT FACE="Arial,Helvetica" size="-1">
<IMG SRC="C%201541%20Service%20Manual_files/1541sery.png" width=163 height=136><P>Motor coil = 17 ohms<br>Tach coil = 175 ohms (rest)<br>Tach coil = 135-190 ohms (motion)
</font></td><td width=20></td><td><FONT FACE="Arial,Helvetica" size="-1">
<IMG SRC="C%201541%20Service%20Manual_files/1541serz.png" width=143 height=100><P>R/W end to end = 32.4 ohms<br>R/w end to centertap = 16.3 ohms<br>Erase coil end to end = 10.5 ohms</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Casework/Accessory Parts List</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1540/1541 &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Top Case (IVORY)</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540014-01</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1540/41</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Bottom Case (IVORY) &nbsp; &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540015-00</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1541</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Top Case (BROWN)</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540014-03</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1541</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Bottom Case (IVORY)</font></td><td><FONT FACE="Arial,Helvetica" size="-1">1540015-03</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">Shield Cover</font></td><td><FONT FACE="Arial,Helvetica" size="-1">1540013-03</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">LED Assembly</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540013</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">Self Adhesive Foot</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 950150-02</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">1540 Nameplate</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540016-02</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">1541 Nameplate</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540052-00</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">Power Cord Assembly</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 903508-04</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">6 PIN DIN Cable</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1515001-01</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">User'S Manual</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540031-03</font></td></tr>
<tr valign=top><td colspan=2><FONT FACE="Arial,Helvetica" size="-1">Demo Diskette</font></td><td><FONT FACE="Arial,Helvetica" size="-1">C 1540024-01</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Model Indentification</b>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><nobr>PCB Assy # 1540008-01 &nbsp; &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">&#0149;  Schematic # 1540001<br>&#0149;  Original "Long" Board<br>&#0149;  Has 4 discreet 2114 RAMs<br>&#0149;  ALPS Drive only<br>&nbsp;</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">PCB Assy # 1540048</font></td><td><FONT FACE="Arial,Helvetica" size="-1">&#0149;  Schematic # 1540049<br>&#0149;  Referred to as the CR board<br>&#0149;  Changed to 2048 x 8 bit RAM pkg.<br>&#0149;  A 40 pin Gate Array is used<br>&#0149;  Alps Drive (-01)<br>&#0149;  Newtronics Drive (-03)<br>&nbsp;</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">PCB Assy # 250442-01</font></td><td><FONT FACE="Arial,Helvetica" size="-1">&#0149;  Schematic # 251748<br>&#0149;  Termed the 1541 A<br>&#0149;  Just one jumper change to accommodate both types of drive<br>&nbsp;</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">PCB Assy # 250446-01</font></td><td><FONT FACE="Arial,Helvetica" size="-1">&#0149;  Schematic # 251748 (See Notes)<br>&#0149;  Termed the 1541 A-2<br>&#0149; Just one jumper change to accommodate both types of drive</font></td></tr>
</table>
<P>
Note: The simplest way to identify which drive you have is by door assembly. Alps is made with a "push down" door and Newtronics has a "flipper" type door.
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr bgcolor="#000000"><td width=480 height=1></td></tr>
</table>
<P>
<b>Device Number Change</b>
<P>
The 1540 and 1541 drives are shipped from the factory se for device # 8. The channel can be hardware altered to # 9, 10, or 11 by two methods:
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><nobr>&nbsp; 1) &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">Refer to appropriate board layout drawing for the location of the pads provided for this purpose. The device change pads must be CUT to alter the channel number and re-soldered if another change is needed later.</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1"><nobr>&nbsp; 2) &nbsp;</nobr></font></td><td><FONT FACE="Arial,Helvetica" size="-1">The preferred method to alter the device number is to lift certain pins of the 6522 chip. The IC should always be socketed, so removal of the chip is simple. Once removed, the proper pin can be carefully bent to eliminate it from the circuit. If another change is needed, simply remove the I.C. and re-install with the pin back in place.</font></td></tr>
</table>
<P>
<table border=0 cellpadding=0 cellspacing=0>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">PCB Assy #</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Location &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Device # &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">Lift Pin</font></td></tr>
<tr bgcolor="#000000"><td colspan=4 height=1></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1540008</font></td><td><FONT FACE="Arial,Helvetica" size="-1">UAB1</font></td><td><FONT FACE="Arial,Helvetica" size="-1">9</font></td><td><FONT FACE="Arial,Helvetica" size="-1">15</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">1540048,251748 &nbsp; &nbsp;</font></td><td><FONT FACE="Arial,Helvetica" size="-1">UC3</font></td><td><FONT FACE="Arial,Helvetica" size="-1">10</font></td><td><FONT FACE="Arial,Helvetica" size="-1">16</font></td></tr>
<tr valign=top><td><FONT FACE="Arial,Helvetica" size="-1">and 251834</font></td><td><FONT FACE="Arial,Helvetica" size="-1">UC3</font></td><td><FONT FACE="Arial,Helvetica" size="-1">11</font></td><td><FONT FACE="Arial,Helvetica" size="-1">15 and 16</font></td></tr>
</table>
</div>
</font></td></tr>
</table>
</font></td><td background="C%201541%20Service%20Manual_files/l0000000.png" width=120 bgcolor="#F8F8F8"><font face="Verdana, Helvetica, Arial" size="-2"><IMG SRC="C%201541%20Service%20Manual_files/l2000000.png" width=120 height=8><br>
<IMG SRC="C%201541%20Service%20Manual_files/lt-archi.png" width=120 height=12><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/floatformate.php">Float-Formate</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/screen.php">Screenshots</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/korrekturen.php">Korrekturen</a><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/c64/serie74.php">Chip 74xx</a><br>
&nbsp;<br>
<IMG SRC="C%201541%20Service%20Manual_files/l-sep200.png" width=120 height=28><br><IMG SRC="C%201541%20Service%20Manual_files/lt-link0.png" width=120 height=12><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.6502.org/">6502</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://c64upgra.de/c-one/">C-one</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://remix.kwed.org/">Remix</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.computerbrains.com/ccs64/">CCS64</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.lotek64.com/">Lotek 64</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.wxwidgets.org/">wxWidgets</a><br>
&nbsp;<br>
<IMG SRC="C%201541%20Service%20Manual_files/l-sep200.png" width=120 height=28><br><IMG SRC="C%201541%20Service%20Manual_files/lt-thema.png" width=120 height=12><br>
<br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/6502/">6502 Ops</a><br>
&nbsp;<IMG SRC="C%201541%20Service%20Manual_files/q3000000.png" width=5 height=6>&nbsp;<a target="_parent" href="http://www.htu.tugraz.at/~herwig/zeichen/">Zeichen</a><br>
&nbsp;<P>
</font></td></tr>
</table></center>
</body>
</html>

<!-- This document saved from http://www.htu.tugraz.at/~herwig/c64/1541service.php -->
